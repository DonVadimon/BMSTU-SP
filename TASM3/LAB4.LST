Turbo Assembler	 Version 3.1	    04/27/21 15:26:38	    Page 1
LAB4.ASM



      1	0000			     MYCODE SEGMENT 'CODE'
      2				       ASSUME CS:MYCODE, DS:MYCODE
      3
      4	0000  30 31 32 33 34 35	36+	     HEXSTRING DB '0123456789ABCDEF' ; �������				    +
      5	      37 38 39 41 42 43	44+  �������������
      6	      45 46
      7	0010  EF BF BD EF BF BD	EF+	     STARTSTR DB '������ ������	��� ������	    +
      8	      BF BD EF BF BD EF	BF+  ������	���������$'
      9	      BD EF BF BD 20 EF	BF+
     10	      BD EF BF BD EF BF	BD+
     11	      EF BF BD EF BF BD	EF+
     12	      BF BD 20 EF BF BD	EF+
     13	      BF BD EF BF BD 20	EF+
     14	      BF BD EF BF BD EF	BF+
     15	      BD EF BF BD EF BF	BD+
     16	      EF BF BD 20 EF BF	BD+
     17	      EF BF BD EF BF BD	EF+
     18	      BF BD EF BF BD EF	BF+
     19	      BD 20 EF BF BD EF	BF+
     20	      BD EF BF BD EF BF	BD+
     21	      EF BF BD EF BF BD	EF+
     22	      BF BD EF BF BD EF	BF+
     23	      BD 24
     24	0082  EF BF BD EF BF BD	EF+	     MSGSTR DB '��� ������ �� ���������		    +
     25	      BF BD 20 EF BF BD	EF+  ������� "q"$'
     26	      BF BD EF BF BD EF	BF+
     27	      BD EF BF BD EF BF	BD+
     28	      20 EF BF BD EF BF	BD+
     29	      20 EF BF BD EF BF	BD+
     30	      EF BF BD EF BF BD	EF+
     31	      BF BD EF BF BD EF	BF+
     32	      BD EF BF BD EF BF	BD+
     33	      20 EF BF BD EF BF	BD+
     34	      EF BF BD EF BF BD	EF+
     35	      BF BD EF BF BD EF	BF+
     36	      BD 20 22 71 22 24
     37
     38	00DC			       START:
     39					     ; ��������	����������� ��������  +
     40				     ������	DS
     41	00DC  0E			 PUSH CS
     42	00DD  1F			 POP  DS
     43	00DE  BB 0000r			       MOV  BX,	OFFSET HEXSTRING
     44
     45	00E1			       MAIN:
     46					 ; ������� ������
     47	00E1  E8 0067			 CALL CLRSCR;
     48
     49					 ; ����� ������-��������� � ���, ���  +
     50				     ���� ������ �����
     51	00E4  BA 0010r			 MOV  DX, OFFSET STARTSTR
     52	00E7  E8 0047			 CALL PUTST
     53	00EA  E8 004E			 CALL CLRF
     54
     55					 ; ������ �� ���� �������
     56	00ED  E8 0056			 CALL GETCH
     57	00F0  50			 PUSH AX
Turbo Assembler	 Version 3.1	    04/27/21 15:26:38	    Page 2
LAB4.ASM



     58
     59					 ; ����������� ����� ���� �� �����
     60	00F1  B9 0014			 MOV  CX, 20
     61	00F4				 PRINT:
     62
     63					   ; ����� �����
     64	00F4  8A D0			   MOV	 DL, AL
     65	00F6  50			   PUSH	 AX
     66	00F7  E8 003C			   CALL	 PUTCH
     67
     68					   ; ����
     69	00FA  BA 0020			   MOV	 DX, 32
     70	00FD  E8 0036			   CALL	 PUTCH
     71	0100  BA 00CD			   MOV	 DX, 205
     72	0103  E8 0030			   CALL	 PUTCH
     73	0106  BA 0020			   MOV	 DX, 32
     74	0109  E8 002A			   CALL	 PUTCH
     75
     76					   ; ����� HEX
     77	010C  58			   POP	 AX
     78	010D  E8 0041			   CALL	 HEX
     79	0110  58			   POP	 AX
     80
     81					   ; INCREMENT �����
     82	0111  FE C0			   INC	 AL
     83	0113  50			   PUSH	 AX
     84
     85	0114  E2 DE			 LOOP PRINT
     86
     87					 ; ������ �� ����������� ���������
     88	0116  BA 0082r			 MOV DX, OFFSET	MSGSTR
     89	0119  E8 0015			 CALL PUTST
     90	011C  E8 001C			 CALL CLRF
     91	011F  E8 0024			 CALL GETCH
     92	0122  3C 71			 CMP AL, 'q'
     93	0124  74 02			   JE EXIT ; JUMP IF ZF	FLAG IS	EQUAL TO 1
     94	0126  EB B9			 JMP MAIN
     95
     96	0128			       EXIT:
     97					 ; ������� ������
     98	0128  E8 0020			 CALL CLRSCR;
     99
    100					 ; ����� �� ���������
    101	012B  B0 00			 MOV AL, 0
    102	012D  B4 4C			 MOV AH, 4CH
    103	012F  CD 21			 INT 021H
    104
    105					     ; ��������� - ����� ������	��		    +
    106				     �����
    107	0131				     PUTST PROC
    108	0131  B4 09				     MOV AH, 09H
    109	0133  CD 21				     INT 021H
    110	0135  C3				     RET
    111	0136				     PUTST ENDP
    112
    113					     ; ��������� - ����� �������
    114	0136				     PUTCH PROC
Turbo Assembler	 Version 3.1	    04/27/21 15:26:38	    Page 3
LAB4.ASM



    115	0136  B4 02				     MOV AH, 02H
    116	0138  CD 21				     INT 021H
    117	013A  C3				     RET
    118	013B				     PUTCH ENDP
    119
    120					     ; ��������� - ������� ������
    121	013B				     CLRF PROC
    122	013B  B2 0A				     MOV   DL, 10
    123	013D  E8 FFF6				     CALL  PUTCH
    124	0140  B2 0D				     MOV   DL, 13
    125	0142  E8 FFF1				     CALL  PUTCH
    126	0145  C3				     RET
    127	0146				     CLRF ENDP
    128
    129					     ; ��������� - ���� �������
    130	0146				     GETCH PROC
    131	0146  B4 08				     MOV AH, 08H
    132	0148  CD 21				     INT 021H
    133	014A  C3			 RET
    134	014B				     GETCH ENDP
    135
    136					     ; ��������� - ������� ������
    137	014B				     CLRSCR PROC
    138	014B  B8 0003				     MOV AX, 03
    139	014E  CD 10			 INT 10H
    140	0150  C3			 RET
    141	0151				     CLRSCR ENDP
    142
    143					     ; ������� � 16
    144	0151				     HEX PROC
    145	0151  50			     PUSH  AX
    146	0152  D0 E8 D0 E8 D0 E8	D0+	     SHR   AL, 4 ; 0035	= 0011 0101 -> 0000 0011
    147	      E8
    148
    149	015A  E8 001A			     CALL  KASTIL ; XLAT
    150
    151	015D  8A D0		       MOV   DL, AL
    152	015F  E8 FFD4			     CALL  PUTCH
    153	0162  58			     POP   AX
    154	0163  24 0F			     AND   AL, 00001111B
    155
    156	0165  E8 000F			     CALL  KASTIL ; XLAT
    157
    158	0168  8A D0		       MOV   DL, AL
    159	016A  E8 FFC9			     CALL  PUTCH
    160	016D  BA 0068			     MOV   DX, 104
    161	0170  E8 FFC3		       CALL  PUTCH
    162	0173  E8 FFC5			     CALL  CLRF
    163	0176  C3		       RET
    164	0177				     HEX ENDP
    165
    166				       ; MY OWN	XLAT
    167	0177			       KASTIL PROC
    168	0177  53			 PUSH  BX
    169	0178  B4 00			 MOV   AH, 0
    170	017A  03 D8			 ADD   BX, AX
    171	017C  8A 07			 MOV   AL, [BX]
Turbo Assembler	 Version 3.1	    04/27/21 15:26:38	    Page 4
LAB4.ASM



    172	017E  5B			 POP   BX
    173	017F  C3			 RET
    174	0180			       KASTIL ENDP
    175
    176				     ; ����� ��������
    177	0180			     MYCODE ENDS
    178				     END START
Turbo Assembler	 Version 3.1	    04/27/21 15:26:38	    Page 5
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

??DATE			Text   "04/27/21"
??FILENAME		Text   "LAB4	"
??TIME			Text   "15:26:38"
??VERSION		Number 030A
@CPU			Text   0101H
@CURSEG			Text   MYCODE			   #1
@FILENAME		Text   LAB4
@WORDSIZE		Text   2			   #1
CLRF			Near   MYCODE:013B		   53  90  #121	 162
CLRSCR			Near   MYCODE:014B		   47  98  #137
EXIT			Near   MYCODE:0128		   93  #96
GETCH			Near   MYCODE:0146		   56  91  #130
HEX			Near   MYCODE:0151		   78  #144
HEXSTRING		Byte   MYCODE:0000		   #4  43
KASTIL			Near   MYCODE:0177		   149	156  #167
MAIN			Near   MYCODE:00E1		   #45	94
MSGSTR			Byte   MYCODE:0082		   #24	88
PRINT			Near   MYCODE:00F4		   #61	85
PUTCH			Near   MYCODE:0136		   66  70  72  74  #114	 123  125  152	159  161
PUTST			Near   MYCODE:0131		   52  89  #107
START			Near   MYCODE:00DC		   #38	178
STARTSTR		Byte   MYCODE:0010		   #7  51

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

MYCODE			16  0180 Para	none	CODE	   #1  2  2
